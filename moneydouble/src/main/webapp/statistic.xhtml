<?xml version="1.0"	encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:outputStylesheet library="css" name="moneydouble.css"/>

<h:head>
	<f:facet name="first">
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	</f:facet>
	<link rel="shortcut icon" type="image/x-icon" href="#{resource['images/favicon.ico']}"/>
	<title>Statistic</title>
</h:head>
<h:body>
	<f:event listener="#{loginHandler.checkLoggedIn}" type="preRenderView" />
	
	<ui:include src="/WEB-INF/navigation.xhtml">
		<ui:param name="viewId" value="statistic.xhtml" />
	</ui:include>
	
	<p:tabView orientation="left" style="background-color:#E3E3E3;">
		<p:tab title="Bet history">
			<p:dataTable var="zug" value="#{statisticHandler.spielzuege}"
				rowStyleClass="#{zug.guess eq zug.result ? 'win' : 'loss'}" reflow="true">
				<p:column headerText="Guess">
					<h:outputText value="#{zug.guess}" />
				</p:column>

				<p:column headerText="Result">
					<h:outputText value="#{zug.result}" />
				</p:column>

				<p:column headerText="Amount">
					<h:outputText value="#{zug.moneyAmount}" />
				</p:column>

				<p:column headerText="Timestamp">
					<h:outputText value="#{zug.timestamp}" />
				</p:column>
			</p:dataTable>
		</p:tab>
		<p:tab title="Distribution">
			<p:chart type="pie" model="#{statisticHandler.userPieModel}" style="width:400px;height:300px" />
			<p:chart type="pie" model="#{statisticHandler.resultPieModel}" style="width:400px;height:300px" />
		</p:tab>
		<p:tab title="Your profits">
			<p:chart type="line" model="#{statisticHandler.winningsLineModel}" style="height:300px;" responsive="true"/>
		</p:tab>
		
	</p:tabView>
</h:body>
</html>
