<?xml version="1.0"	encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
	<f:facet name="first">
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	</f:facet>
	<title>Money</title>
</h:head>
<h:body>
	<f:facet name="last">
		<h:outputStylesheet library="css" name="moneydouble.css"/>
	</f:facet>
	<f:event listener="#{loginHandler.checkLoggedIn}" type="preRenderView" />
	<p:growl id="growl" showDetail="true" sticky="false"/>
	<h:form id="navigation">
		<p:menubar>
			<p:menuitem>
			    <h:link outcome="/index.jsf">
			        <h:graphicImage name="images/logo.png" height="50" />
			    </h:link>
			</p:menuitem>
			<p:menuitem styleClass="navigation-menuitem" value="Home" url="/index.jsf" />
			<p:menuitem styleClass="navigation-menuitem" value="Statistic" url="/statistic.jsf" />
			<p:menuitem styleClass="navigation-menuitem-selected" value="Money" url="/money.jsf" />
			
			<f:facet name="options">
	            <p:commandButton value="Logout" icon="ui-icon-extlink" action="#{loginHandler.logout()}"/>
	        </f:facet>
		</p:menubar>
	</h:form>
	
	<h:outputLabel for="money" value="Balance:" />
	<h:outputLabel id="money" value="#{loginHandler.user.money}" />
	
	<h:form>
		<p:panelGrid columns="2">
			<h:outputLabel value="Kartentyp:" for="typ"/>
			<h:panelGroup>
				<p:selectOneMenu id="typ" value="#{moneyHandler.tmpKreditkarte.typ}">
					<f:selectItems var="form" value="#{moneyHandler.kreditkartentypValues}"
						itemValue="#{form}" itemLabel="#{form.label}"/>
				</p:selectOneMenu>	
			</h:panelGroup>	
		
			<h:outputLabel value="Kreditkartennummer:" for="kknummer"/>
			<p:inputText id="kknummer" value="#{moneyHandler.tmpKreditkarte.nummer}">
				<f:converter converterId="kreditkartenConverter"/>
				<f:validator validatorId="kreditkartenValidator" />
			</p:inputText>
			
			<h:outputLabel value="GÃ¼ltig bis: (z.B. 10/15)" for="gueltig"/>
			<h:panelGroup>
				<p:calendar id="gueltig" value="#{moneyHandler.tmpKreditkarte.gueltigBis}"
							mode="popup" navigator="true" showOn="button" pattern="MM/yy"/>
				<h:message for="gueltig" styleClass="message" />
			</h:panelGroup>
			
			<h:outputLabel value="Inhaber:" for="inhaber"/>
			<h:panelGroup>
				<p:inputText id="inhaber" value="#{moneyHandler.tmpKreditkarte.inhaber}" required="true" requiredMessage="Inhaber fehlt"/>
				<h:message for="inhaber" styleClass="message" />
			</h:panelGroup>
		</p:panelGrid>
		<p:commandButton value="Speichern" action="#{moneyHandler.saveCreditcard()}" />
	</h:form>
</h:body>
</html>
